{% extends "layout.twig" %}

{% block content %}
<ul class="breadcrumb" style="margin-bottom: 5px;">
	<li><a href="/-/home">Home</a></li>
	<li><a href="/-/events/{{ schedule.event.id }}">{{ schedule.event.name }}</a></li>
	<li>{{ schedule.name }}</li>
</ul>

<div class="row">
	<div class="col-lg-12">
		<h2>{{ schedule.name }} <a href="/-/schedules/{{ schedule.id }}/edit" class="btn btn-link btn-sm">Edit details&hellip;</a></h2>

		<p class="text-center text-muted"><small>Click on an item to edit its details. Click and drag the handle on the left side to move items up or down.</small></p>
	</div>
</div>

<div class="row">
	<div class="col-lg-12 h-scheduler">
		<div class="panel panel-default h-header">
			<div class="panel-body">
				<div class="row">
					<div class="col-lg-1 h-th">
						<span class="h-handle">&nbsp;&nbsp;</span>Scheduled
					</div>
					<div class="col-lg-1 h-th">
						Estimated
					</div>
					<div class="col-lg-2 h-th">
						Game
					</div>
					<div class="col-lg-2 h-th">
						Runners
					</div>
					<div class="col-lg-2 h-th">
						Comments
					</div>
					<div class="col-lg-2 h-th">
						Couch Commentators
					</div>
				</div>
			</div>
		</div>

		<div class="h-items" data-bind="template: { name: 'item', foreach: items, as: 'item' }"></div>
	</div>
</div>

<div class="row">
	<div class="col-lg-12 text-center">
		<a><i class="fa fa-plus fa-1x"></i> add item&hellip;</a>
	</div>
</div>

<script type="text/javascript">
var horaro = horaro||{};

horaro.schedule = {
	id: {{ schedule.id }},
	name: 'Main Schedule',
	slug: 'main-schedule',
	timezone: 'UTC',
	start: new Date('2014-06-22T18:00:00Z')
};
</script>

{% verbatim %}
<script type="text/html" id="item">
	<div class="panel panel-default h-item">
		<div class="panel-body">
			<div class="row">
				<div class="col-lg-1">
					<span class="h-handle">::</span><span data-bind="text: formattedSchedule"></span>
				</div>
				<div class="col-lg-1"><span data-bind="text: formattedLength"></span></div>
				<div class="col-lg-2"><span data-bind="text: game"></span></div>
				<div class="col-lg-2"><span data-bind="text: runners"></span></div>
				<div class="col-lg-2"><span data-bind="text: comments"></span></div>
				<div class="col-lg-2"><span data-bind="text: commentary"></span></div>
				<div class="col-lg-2 text-right">
					<button class="btn btn-link btn-xs" rel="more" data-bind="click: $parent.toggleItem, visible: !expanded()"><i class="fa fa-angle-double-down"></i> more</button>
					<button class="btn btn-link btn-xs" rel="more" data-bind="click: $parent.toggleItem, visible: expanded"><i class="fa fa-angle-double-up"></i> less</button>
					<button class="btn btn-danger btn-xs" rel="delete"><i class="fa fa-trash-o"></i></button>
				</div>
			</div>

			<div data-bind="if: expanded">
				<div class="row h-item-more">
					<div class="col-lg-2 text-right">
						<strong>Prizes:</strong>
					</div>
					<div class="col-lg-2">
						<span data-bind="text: prizes"></span>
					</div>

					<div class="col-lg-2 text-right">
						<strong>Prizes:</strong>
					</div>
					<div class="col-lg-2">
						<span data-bind="text: prizes"></span>
					</div>

					<div class="col-lg-2 text-right">
						<strong>Prizes:</strong>
					</div>
					<div class="col-lg-2">
						<span data-bind="text: prizes"></span>
					</div>
				</div>
			</div>
		</div>
	</div>
</script>
{% endverbatim %}
{% endblock %}
